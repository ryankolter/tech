# 浏览器请求过程

## 简单版

- 在web栏输入网址

- 对网址进行DNS解析，得到IP地址

- 根据IP找到对应服务器，发起TCP的三次握手

- 建立TCP后，发起针对HTTPS的TLS握手

- 服务器响应HTTPS请求，浏览器得到HTML代码

- 浏览器解析HTML代码，并请求代码中需要的资源（包括js，css，图片)

- 对页面进行渲染，呈现给用户

- 服务器关闭TCP连接，四次挥手

## 关于DNS解析

域名的IP采用递归查询方式

- 先找浏览器内部的DNS缓存（这里面大概会存1000条，保持时间1分钟）

- 再找系统自身的DNS缓存

- 再找HOSTS文件（在C盘的Windows/System32/drivers/etc里面，格式是一行一行写的，每一行包括“IP 域名”，会把后面的域名按照此IP解析）

- 再找根域名服务器

- 再找下一级根域名服务器

