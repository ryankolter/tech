# 取值操作符——`->`、`#>`

- `->`
    - 指定json的一级键，获取其中的值，按json格式返回
        - 比如
            ```sql
            SELECT
            '{
                "a": {
                    "b":"foo"
                }
            }'::json->'a'
            ```
        - 返回`{"b":"foo"}`
    - 如果想按text格式返回，可以用`->>`
        - 比如
            ```sql
            SELECT
            '{
                "a":1,
                "b":2
            }'::json->>'b'
            ```
        - 返回`2`
        - 如果要比较，需要转为数字格式
            ```sql
            ()::numeric 数字
            ()::float 浮点数
            ()::integer 整数
            ```
    - 结合可实现多级键返回
        ```sql
        ->'b'->'c'->>'d'
        ```
        - `一个 >`返回`json格式`
        - 最后`两个 >>`返回`text格式`

- `#>`
    - 指定json的多级键，获取其中的值，按json格式返回
        - 比如
            ```sql
            SELECT 
            '{
                "a": {
                    "b":{
                        "c": "foo"
                    }
                }
            }'::json#>'{a,b}'
            ```
        - 会返回`{"c": "foo"}`
        - 这里`'{a,b}'`可以替换成`ARRAY['a', 'b']`
    - 如果想按text格式返回，可以用`#>>`
        - 比如
            ```sql
            SELECT 
            '{
                "a":[1,2,3],
                "b":[4,5,6]
            }'::json#>>'{a,2}'
            ```
        - 会返回`3`
        - 这里是从0、1、2用数字做下标，取第三个

