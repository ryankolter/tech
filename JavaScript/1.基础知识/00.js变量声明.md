# js变量声明

## var 和 let

- `var` 是ES5的声明关键字，会参与预解析并存在变量提升（变量名提前使用不会报错，只是输出undefined值），存在于函数作用域（只要不离开函数，都一直有效，只有一份且任何地方都能改都能取）或全局作用域，可以重复声明

- `let` 是ES6新增的声明关键字，不存在var的那种变量提升（提前使用会报错，但也会有提升，只不过通过暂时性死区阻止了提前使用），加入了块级作用域（离开了for或者if语句，就失效了，循环过程中的每一个块里面都会有一份新的变量），不允许重复声明

- 例子
    ```js
    for(let i=0; i<5; i++){ }
    console.log(i); //输出i is undefined
    ```
    - 如果改成var的话，函数内一直有效，到外面也有效，就能输出5，但这样子就产生了变量污染

    ```js
    var arr = []
    for(let i = 0; i < 5; i++){
        //把函数存到数组中，等待循环结束后调用
        arr[i] = function(){
            console.log(i)
        };
    }
    arr[1](); //输出结果是1，因为有闭包，且每次i都是新生成的一份
    ```
    - 如果改成var的话，函数内一直有效，只有一份，任何地方都能改都能取，就全都输出循环结束后的5

## const

- 定义一个只读的常量，后面不能再改
    ```js
    const y; 
    ```
    - 这样是错的，一旦声明了就必须要赋值
    
- 如果定义的是对象
    ```js
    const obj={}
    obj.id = 123
    ```
    - 不会报错！对象里面的属性还是能增删改的，只是指向的对象引用不能再改

- 如果定义的是数组
    ```js
    const arr=[]
    arr.push(1)
    arr[1] = 2
    ```
    - 不会报错！与上面对象同理

## 块级作用域

